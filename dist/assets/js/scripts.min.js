document.addEventListener("DOMContentLoaded",function(){function e(){document.body.style.overflow="hidden",viewportWidth=$(window).width(),viewportHeight=$(window).height(),document.body.style.overflow="",$(".cover, .overlay, .overlay-menu").css({width:viewportWidth,height:viewportHeight}),$(".overlay .inner, .overlay-menu .inner").css({"max-height":viewportHeight})}function t(){$("#menu-trigger").click(function(){$("body.overlayMenu-open").length>0?($("body").removeClass("overlayMenu-open").scrollTop(localStorage.cachedScrollPos),$(".overlay-menu ul li a").removeClass("is-active")):(localStorage.cachedScrollPos=$(window).scrollTop(),$("body").addClass("overlayMenu-open").scrollTop(0),$(".overlay-menu ul li a").each(function(e){var t=$(this);setTimeout(function(){t.addClass("is-active")},50*(e+1))}))})}function n(){$(".overlay-trigger").click(function(){localStorage.cachedScrollPos=$(window).scrollTop();var e=$(this).data("overlay"),t="."+e;$(t).addClass("is-active"),$("body").addClass("overlay-open").scrollTop(0),$(".overlay-close").click(function(){$(this).parent().removeClass("is-active"),$(t).removeClass("is-active"),$("body").removeClass("overlay-open").scrollTop(localStorage.cachedScrollPos)})})}function o(){$(".trigger-drawer").click(function(){var e=$(this).attr("data-drawer"),t=$(this);t.toggleClass("is-active"),$(".drawer."+e).toggleClass("is-active")})}function r(){var e=$(window).scrollTop();$(".cover").length>0&&(e>viewportHeight?$("body").addClass("fixed-menu-horizontal"):$("body").removeClass("fixed-menu-horizontal")),$(".no-cover").length>0&&(e>72?$("body").addClass("fixed-menu-horizontal"):$("body").removeClass("fixed-menu-horizontal"))}function a(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}})}function s(){$("#toTop").click(function(){return $("html,body").animate({scrollTop:0},1e3,"swing"),!1})}e(),t(),n(),o(),r(),a(),s(),window.onresize=function(t){e()},$(window).scroll(function(){r()});var l=function(e,t){function n(e){var t=e.indexOf("#");return 0>t?e:e.substr(0,t)}function o(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function r(e){var i=t.protocol+"//"+t.host;if(!(i=e.target||e.hasAttribute("download")||0!=e.href.indexOf(i+"/")||-1<e.href.indexOf("#")&&n(e.href)==y)){if($){e:{do{if(!e.hasAttribute)break;if(e.hasAttribute("data-no-instant"))break;if(e.hasAttribute("data-instant")){e=!0;break e}}while(e=e.parentNode);e=!1}e=!e}else e:{do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))break;if(e.hasAttribute("data-no-instant")){e=!0;break e}}while(e=e.parentNode);e=!1}i=e}return i?!1:!0}function a(e,t,n,i){for(var o=!1,r=0;r<N[e].length;r++)if("receive"==e){var a=N[e][r](t,n,i);a&&("body"in a&&(n=a.body),"title"in a&&(i=a.title),o=a)}else N[e][r](t,n,i);return o}function s(t,i,o,r){if(e.documentElement.replaceChild(i,e.body),o){if(history.pushState(null,null,o),i=o.indexOf("#"),i=i>-1&&e.getElementById(o.substr(i+1)),r=0,i)for(;i.offsetParent;)r+=i.offsetTop,i=i.offsetParent;scrollTo(0,r),y=n(o)}else scrollTo(0,r);e.title=k&&e.title==t?t+String.fromCharCode(160):t,v(),P.done(),a("change",!1),t=e.createEvent("HTMLEvents"),t.initEvent("instantclick:newpage",!0,!0),dispatchEvent(t)}function l(e){w>+new Date-500||(e=o(e.target))&&r(e)&&m(e.href)}function c(e){w>+new Date-500||(e=o(e.target))&&r(e)&&(e.addEventListener("mouseout",h),E?(g=e.href,b=setTimeout(m,E)):m(e.href))}function d(e){w=+new Date,(e=o(e.target))&&r(e)&&(C?e.removeEventListener("mousedown",l):e.removeEventListener("mouseover",c),m(e.href))}function f(e){var t=o(e.target);!t||!r(t)||1<e.which||e.metaKey||e.ctrlKey||(e.preventDefault(),p(t.href))}function h(){b?(clearTimeout(b),b=!1):D&&!z&&(T.abort(),z=D=!1)}function u(){if(!(4>T.readyState)&&0!=T.status){if(Y.ready=+new Date-Y.start,T.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var t=e.implementation.createHTMLDocument("");t.documentElement.innerHTML=T.responseText.replace(/<noscript[\s\S]+<\/noscript>/gi,""),H=t.title,O=t.body;var i=a("receive",M,O,H);i&&("body"in i&&(O=i.body),"title"in i&&(H=i.title)),i=n(M),A[i]={body:O,title:H,scrollY:i in A?A[i].scrollY:0};for(var o,t=t.head.children,i=0,r=t.length-1;r>=0;r--)if(o=t[r],o.hasAttribute("data-instant-track")){o=o.getAttribute("href")||o.getAttribute("src")||o.innerHTML;for(var s=B.length-1;s>=0;s--)B[s]==o&&i++}i!=B.length&&(S=!0)}else S=!0;z&&(z=!1,p(M))}}function v(t){if(e.body.addEventListener("touchstart",d,!0),C?e.body.addEventListener("mousedown",l,!0):e.body.addEventListener("mouseover",c,!0),e.body.addEventListener("click",f,!0),!t){t=e.body.getElementsByTagName("script");var n,o,r,a;for(i=0,j=t.length;i<j;i++)n=t[i],n.hasAttribute("data-no-instant")||(o=e.createElement("script"),n.src&&(o.src=n.src),n.innerHTML&&(o.innerHTML=n.innerHTML),r=n.parentNode,a=n.nextSibling,r.removeChild(n),r.insertBefore(o,a))}}function m(e){!C&&"display"in Y&&100>+new Date-(Y.start+Y.display)||(b&&(clearTimeout(b),b=!1),e||(e=g),D&&(e==M||z))||(D=!0,z=!1,M=e,S=O=!1,Y={start:+new Date},a("fetch"),T.open("GET",e),T.send())}function p(e){"display"in Y||(Y.display=+new Date-Y.start),b||!D?b&&M&&M!=e?t.href=e:(m(e),P.start(0,!0),a("wait"),z=!0):z?t.href=e:S?t.href=M:O?(A[y].scrollY=pageYOffset,z=D=!1,s(H,O,M)):(P.start(0,!0),a("wait"),z=!0)}var y,g,b,w,T,$,C,E,L=navigator.userAgent,k=-1<L.indexOf(" CriOS/"),x="createTouch"in e,A={},M=!1,H=!1,S=!1,O=!1,Y={},D=!1,z=!1,B=[],N={fetch:[],receive:[],wait:[],change:[]},P=function(){function t(t,r){d=t,e.getElementById(s.id)&&e.body.removeChild(s),s.style.opacity="1",e.getElementById(s.id)&&e.body.removeChild(s),o(),r&&setTimeout(n,0),clearTimeout(f),f=setTimeout(i,500)}function n(){d=10,o()}function i(){d+=1+2*Math.random(),d>=98?d=98:f=setTimeout(i,500),o()}function o(){l.style[c]="translate("+d+"%)",e.getElementById(s.id)||e.body.appendChild(s)}function r(){e.getElementById(s.id)?(clearTimeout(f),d=100,o(),s.style.opacity="0"):(t(100==d?0:d),setTimeout(r,0))}function a(){s.style.left=pageXOffset+"px",s.style.width=innerWidth+"px",s.style.top=pageYOffset+"px";var e="orientation"in window&&90==Math.abs(orientation);s.style[c]="scaleY("+innerWidth/screen[e?"height":"width"]*2+")"}var s,l,c,d,f;return{init:function(){s=e.createElement("div"),s.id="instantclick",l=e.createElement("div"),l.id="instantclick-bar",l.className="instantclick-bar",s.appendChild(l);var t=["Webkit","Moz","O"];if(c="transform",!(c in l.style))for(var n=0;3>n;n++)t[n]+"Transform"in l.style&&(c=t[n]+"Transform");var i="transition";if(!(i in l.style))for(n=0;3>n;n++)t[n]+"Transition"in l.style&&(i="-"+t[n].toLowerCase()+"-"+i);t=e.createElement("style"),t.innerHTML="#instantclick{position:"+(x?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+i+":opacity .25s .1s}.instantclick-bar{background:#29d;width:100%;margin-left:-100%;height:2px;"+i+":all .25s}",e.head.appendChild(t),x&&(a(),addEventListener("resize",a),addEventListener("scroll",a))},start:t,done:r}}(),I="pushState"in history&&(!L.match("Android")||L.match("Chrome/"))&&"file:"!=t.protocol;return{supported:I,init:function(){if(!y)if(I){for(var i=arguments.length-1;i>=0;i--){var o=arguments[i];!0===o?$=!0:"mousedown"==o?C=!0:"number"==typeof o&&(E=o)}y=n(t.href),A[y]={body:e.body,title:e.title,scrollY:pageYOffset};for(var r,o=e.head.children,i=o.length-1;i>=0;i--)r=o[i],r.hasAttribute("data-instant-track")&&(r=r.getAttribute("href")||r.getAttribute("src")||r.innerHTML,B.push(r));T=new XMLHttpRequest,T.addEventListener("readystatechange",u),v(!0),P.init(),a("change",!0),addEventListener("popstate",function(){var e=n(t.href);e!=y&&(e in A?(A[y].scrollY=pageYOffset,y=e,s(A[e].title,A[e].body,!1,A[e].scrollY)):t.href=t.href)})}else a("change",!0)},on:function(e,t){N[e].push(t)}}}(document,location);l.init()},!1);